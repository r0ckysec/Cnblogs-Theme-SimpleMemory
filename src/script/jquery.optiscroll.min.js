!function(a,b,c,d){"use strict";function k(){var c,d,a=b.documentElement,e=0;return c=b.createElement("div"),c.style.cssText="overflow:scroll;width:50px;height:50px;position:absolute;left:-100px",d=b.createElement("div"),d.style.cssText="width:100px;height:100px",c.appendChild(d),a.appendChild(c),e=c.offsetWidth-c.clientWidth,a.removeChild(c),e}function l(a){var g,c=a.charAt(0).toUpperCase()+a.slice(1),e=b.createElement("test"),f=(a+" "+["Webkit","Moz","O","ms"].join(c+" ")+c).split(" ");for(g in f)if(e.style[f[g]]!==d)return f[g];return!1}function m(a,b,c){var d=a.className.split(/\s+/),e=d.indexOf(b);c?~e||d.push(b):~e&&d.splice(e,1),a.className=d.join(" ")}function n(a,b,c){for(var e in b)!b.hasOwnProperty(e)||a[e]!==d&&c||(a[e]=b[e]);return a}function o(a,b,c){var d,e;if(a.length)for(d=0,e=a.length;e>d;d++)a[d][b].apply(a[d],c);else for(d in a)a[d][b].apply(a[d],c)}function p(a,b){var c,d;return function(){var e=this,f=Date.now(),g=arguments;c&&c+b>f?(clearTimeout(d),d=setTimeout(function(){c=f,a.apply(e,g)},b)):(c=f,a.apply(e,g))}}var e,f,g,h,i,j;"function"==typeof a.CustomEvent||function(a){function c(a,c){c=c||{bubbles:!1,cancelable:!1,detail:d};var e=b.createEvent("CustomEvent");return e.initCustomEvent(a,c.bubbles,c.cancelable,c.detail),e}c.prototype=a.Event.prototype,a.CustomEvent=c}(a),a.requestAnimationFrame||function(a){var b=0;a.requestAnimationFrame=function(a){var d=Date.now(),e=c.max(b+16,d);return setTimeout(function(){a(b=e)},e-d)},a.cancelAnimationFrame=clearTimeout}(a),e=function q(a,b){return new q.Instance(a,b||{})},f=e.globalSettings={scrollMinUpdateInterval:25,checkFrequency:1e3,pauseCheck:!1},e.defaults={preventParentScroll:!1,forceScrollbars:!1,scrollStopDelay:300,maxTrackSize:95,minTrackSize:5,draggableTracks:!0,autoUpdate:!0,classPrefix:"optiscroll-"},e.Instance=function(a,b){var c=this;c.element=a,c.settings=n(n({},e.defaults),b||{}),c.cache={},c.init()},e.Instance.prototype={init:function(){var a=this,b=a.settings,c=!1;a.scrollEl=i.createWrapper(a.element,b.classPrefix+"content"),m(a.element,"is-enabled",!0),a.scrollbars={v:h("v",a),h:h("h",a)},(j.nativeScrollbarSize||b.forceScrollbars)&&(c=i.hideNativeScrollbars(a.scrollEl)),c&&o(a.scrollbars,"create"),j.isTouch&&b.preventParentScroll&&m(a.element,b.classPrefix+"prevent",!0),a.update(),a.bind(),b.autoUpdate&&j.instances.push(a),b.autoUpdate&&!j.checkTimer&&i.checkLoop()},bind:function(){var d,a=this,b=a.listeners={},c=a.scrollEl;b.scroll=p(function(b){g.scroll(b,a)},f.scrollMinUpdateInterval),j.isTouch&&(b.touchstart=function(b){g.touchstart(b,a)},b.touchend=function(b){g.touchend(b,a)}),b.mousewheel=b.wheel=function(b){g.wheel(b,a)};for(d in b)c.addEventListener(d,b[d])},update:function(){var a=this,c=a.cache.clientH,e=a.scrollEl,f=a.cache,g=e.scrollHeight,h=e.clientHeight,j=e.scrollWidth,k=e.clientWidth;if(g!==f.scrollH||h!==f.clientH||j!==f.scrollW||k!==f.clientW){if(f.scrollH=g,f.clientH=h,f.scrollW=j,f.clientW=k,c!==d){if(0===g&&0===h&&!i.containsNode(b.body,a.element))return a.destroy(),!1;a.fireCustomEvent("sizechange")}o(a.scrollbars,"update")}},scrollTo:function(a,b,c){var f,g,h,i,d=this,e=d.cache;j.pauseCheck=!0,d.update(),f=d.scrollEl.scrollLeft,g=d.scrollEl.scrollTop,h=+a,"left"===a&&(h=0),"right"===a&&(h=e.scrollW-e.clientW),a===!1&&(h=f),i=+b,"top"===b&&(i=0),"bottom"===b&&(i=e.scrollH-e.clientH),b===!1&&(i=g),d.animateScroll(f,h,g,i,+c)},scrollIntoView:function(a,b,c){var f,g,h,i,k,l,m,n,o,p,q,r,d=this,e=d.scrollEl;j.pauseCheck=!0,d.update(),"string"==typeof a?a=e.querySelector(a):a.length&&a.jquery&&(a=a[0]),"number"==typeof c&&(c={top:c,right:c,bottom:c,left:c}),c=c||{},f=a.getBoundingClientRect(),g=e.getBoundingClientRect(),o=q=e.scrollLeft,p=r=e.scrollTop,m=o+f.left-g.left,n=p+f.top-g.top,h=m-(c.left||0),i=n-(c.top||0),k=m+f.width-d.cache.clientW+(c.right||0),l=n+f.height-d.cache.clientH+(c.bottom||0),o>h&&(q=h),k>o&&(q=k),p>i&&(r=i),l>p&&(r=l),d.animateScroll(o,q,p,r,+b)},animateScroll:function(b,d,e,f,g){var h=this,j=h.scrollEl,k=Date.now();if(d!==b||f!==e){if(0===g)return j.scrollLeft=d,j.scrollTop=f,void 0;isNaN(g)&&(g=15*c.pow(c.max(c.abs(d-b),c.abs(f-e)),.54)),function l(){var m=c.min(1,(Date.now()-k)/g),n=i.easingFunction(m);f!==e&&(j.scrollTop=~~(n*(f-e))+e),d!==b&&(j.scrollLeft=~~(n*(d-b))+b),h.scrollAnimation=1>m?a.requestAnimationFrame(l):null}()}},destroy:function(){var g,h,b=this,c=b.element,d=b.scrollEl,e=b.listeners,f=j.instances.indexOf(b);if(b.scrollEl){for(h in e)d.removeEventListener(h,e[h]);for(o(b.scrollbars,"remove");g=d.childNodes[0];)c.insertBefore(g,d);c.removeChild(d),b.scrollEl=null,m(c,b.settings.classPrefix+"prevent",!1),m(c,"is-enabled",!1),f>-1&&a.requestAnimationFrame(function(){j.instances.splice(f,1)})}},fireCustomEvent:function(a){var f,b=this,c=b.cache,d=c.scrollH,e=c.scrollW;f={scrollbarV:n({},c.v),scrollbarH:n({},c.h),scrollTop:c.v.position*d,scrollLeft:c.h.position*e,scrollBottom:(1-c.v.position-c.v.size)*d,scrollRight:(1-c.h.position-c.h.size)*e,scrollWidth:e,scrollHeight:d,clientWidth:c.clientW,clientHeight:c.clientH},b.element.dispatchEvent(new CustomEvent(a,{detail:f}))}},g={scroll:function(a,b){j.pauseCheck||b.fireCustomEvent("scrollstart"),j.pauseCheck=!0,b.scrollbars.v.update(),b.scrollbars.h.update(),b.fireCustomEvent("scroll"),clearTimeout(b.cache.timerStop),b.cache.timerStop=setTimeout(function(){g.scrollStop(b)},b.settings.scrollStopDelay)},touchstart:function(a,b){j.pauseCheck=!1,b.scrollbars.v.update(),b.scrollbars.h.update(),g.wheel(a,b)},touchend:function(a,b){clearTimeout(b.cache.timerStop)},scrollStop:function(a){a.fireCustomEvent("scrollstop"),j.pauseCheck=!1},wheel:function(b,c){var d=c.cache,e=d.v,f=d.h,g=c.settings.preventParentScroll;a.cancelAnimationFrame(c.scrollAnimation),g&&e.enabled&&0===e.percent%100&&(c.scrollEl.scrollTop=e.percent?d.scrollH-d.clientH-1:1),g&&f.enabled&&0===f.percent%100&&(c.scrollEl.scrollLeft=f.percent?d.scrollW-d.clientW-1:1)}},h=function(a,d){var e="v"===a,f=d.element,g=d.scrollEl,h=d.settings,i=d.cache,k=i[a]={},l=e?"H":"W",o="client"+l,p="scroll"+l,q=e?"scrollTop":"scrollLeft",r=e?["top","bottom"]:["left","right"],s=!1,t=null,u=null,v={dragData:null,dragStart:function(a){var b=a.touches?a.touches[0]:a;v.dragData={x:b.pageX,y:b.pageY,scroll:g[q]},v.bind(!0)},dragMove:function(a){var c,d,b=a.touches?a.touches[0]:a;a.preventDefault(),c=e?b.pageY-v.dragData.y:b.pageX-v.dragData.x,d=c/i[o],g[q]=v.dragData.scroll+d*i[p]},dragEnd:function(){v.dragData=null,v.bind(!1)},bind:function(a){var c=(a?"add":"remove")+"EventListener",d=j.isTouch?["touchmove","touchend"]:["mousemove","mouseup"];b[c](d[0],v.dragMove),b[c](d[1],v.dragEnd)}};return{toggle:function(b){s=b,u&&m(f,"has-"+a+"track",s),k.enabled=s},create:function(){var c=j.isTouch?"touchstart":"mousedown";t=b.createElement("div"),u=b.createElement("b"),t.className=h.classPrefix+a,u.className=h.classPrefix+a+"track",t.appendChild(u),f.appendChild(t),h.draggableTracks&&u.addEventListener(c,v.dragStart)},update:function(){var b,d,e,f,g,a=this;(s||i[o]!==i[p])&&(e=this.calc(),b=e.size,d=k.size,f=100*1/b*e.position,g=c.abs(e.position-(k.position||0))*i[o],1===b&&s&&a.toggle(!1),1>b&&!s&&a.toggle(!0),u&&s&&a.style(f,g,b,d),k=n(k,e),s&&a.fireEdgeEv())},style:function(a,b,c,d){c!==d&&(u.style[e?"height":"width"]=100*c+"%"),u.style[j.cssTransform]="translate("+(e?"0%,"+a+"%":a+"%"+",0%")+")"},calc:function(){var j,k,a=g[q],b=i[o],d=i[p],e=b/d,f=d-b;return e>=1||!d?{position:0,size:1,percent:0}:(k=100*a/f,1>=a&&(k=0),a>=f-1&&(k=100),e=c.max(e,h.minTrackSize/100),e=c.min(e,h.maxTrackSize/100),j=(1-e)*(k/100),{position:j,size:e,percent:k})},fireEdgeEv:function(){var a=k.percent;k.was!==a&&0===a%100&&(d.fireCustomEvent("scrollreachedge"),d.fireCustomEvent("scrollreach"+r[a/100])),k.was=a},remove:function(){this.toggle(!1),t&&(t.parentNode.removeChild(t),t=null)}}},i={hideNativeScrollbars:function(a){var d,b=j.nativeScrollbarSize,c=a.style;return 0===b?(d=Date.now(),a.setAttribute("data-scroll",d),i.addCssRule('[data-scroll="'+d+'"]::-webkit-scrollbar',"display:none;width:0;height:0;")):(c.right=-b+"px",c.bottom=-b+"px",!0)},addCssRule:function(a,c){var d=b.getElementById("scroll-sheet");d||(d=b.createElement("style"),d.id="scroll-sheet",d.appendChild(b.createTextNode("")),b.head.appendChild(d));try{return d.sheet.insertRule(a+" {"+c+"}",0),!0}catch(e){return}},createWrapper:function(a,c){for(var e,d=b.createElement("div");e=a.childNodes[0];)d.appendChild(e);return d.className=c,a.appendChild(d)},containsNode:function(a,b){return a.contains?a!=b&&a.contains(b):!!(16&a.compareDocumentPosition(b))},checkLoop:function(){return j.instances.length?(j.pauseCheck||o(j.instances,"update"),f.checkFrequency&&(j.checkTimer=setTimeout(function(){i.checkLoop()},f.checkFrequency)),void 0):(j.checkTimer=null,void 0)},easingFunction:function(a){return--a*a*a+1}},j=e.G={isTouch:"ontouchstart"in a,cssTransition:l("transition"),cssTransform:l("transform")||"",nativeScrollbarSize:k(),instances:[],checkTimer:null,pauseCheck:!1},"function"==typeof define&&define.amd&&define(function(){return e}),"undefined"!=typeof module&&module.exports&&(module.exports=e),a.Optiscroll=e}(window,document,Math),function(a){var b="optiscroll";a.fn[b]=function(c){var d,e;return"string"==typeof c&&(e=Array.prototype.slice.call(arguments),d=e.shift()),this.each(function(){var f=a(this),g=f.data(b);g?g&&"string"==typeof d&&(g[d].apply(g,e),"destroy"===d&&f.removeData(b)):(g=new window.Optiscroll(this,c||{}),f.data(b,g))})}}(jQuery||Zepto);