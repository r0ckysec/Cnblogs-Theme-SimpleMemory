var a=$(document);a.ready(function(){var n,s,a=$("body"),b="cnblogs_post_body",c="sideToolbar",d="sideCatalog",e="sideCatalog-catalog",f="sideCatalogBtn",g="sideToolbar-up",h='<div id="sideToolbar"style="display:none;"><div class="sideCatalogBg"id="sideCatalog"><div id="sideCatalog-sidebar"><div class="sideCatalog-sidebar-top"></div><div class="sideCatalog-sidebar-bottom"></div></div><div id="sideCatalog-catalog"><ul class="nav"style="width:230px;zoom:1"></ul></div></div><a href="javascript:void(0);"id="sideCatalogBtn"class="sideCatalogBtnDisable"></a></div>',i="",k=0,l=0,m=0,p=!0,r=$("#"+b);0!==r.length&&(a.append(h),n=r.find(":header"),n.each(function(){var d,e,f,b=$(this),c=b[0];return-1==$.inArray(c.tagName.toLowerCase(),["h1","h2"])?!0:(d=b.find(".dev__fe").text(),e=b.find(".dev__ux").text(),f=b.find(".dev__developer").text(),b.attr("id","autoid-"+k+"-"+l+"-"+m),"h1"===c.localName?(k++,l=0,f.length>26&&(f=f.substr(0,26)+"..."),i+='<li h="1" g="'+d+'"><a href="#'+b.attr("id")+'">'+d+"."+e+"&nbsp;&nbsp;"+f+'</a><span class="sideCatalog-dot"></span></li>'):"h2"===c.localName&&(l++,m=0,p&&(f.length>30&&(f=f.substr(0,30)+"..."),i+='<li h="2" g="'+d+'" class="h2Offset ceg'+d+'"><a href="#'+b.attr("id")+'">'+d+"."+e+"&nbsp;&nbsp;"+f+"</a></li>")),void 0)}),$("#"+e+">ul").html(i),a.data("spy","scroll"),a.data("target",".sideCatalogBg"),$("body").scrollspy({target:".sideCatalogBg"}),$sideCatelog=$("#"+d),$("#"+f).on("click",function(){$(this).hasClass("sideCatalogBtnDisable")&&"visible"==$sideCatelog.css("visibility")?($sideCatelog.css("visibility","hidden"),$(this).removeClass("sideCatalogBtnDisable")):($sideCatelog.css("visibility","visible"),$(this).addClass("sideCatalogBtnDisable"))}),$("#"+g).on("click",function(){$("html,body").animate({scrollTop:0},500)}),$sideToolbar=$("#"+c),s=$("#sideCatalog-catalog").find("ul li"),0==s.length&&($sideCatelog.css("visibility","hidden"),$("#"+f).removeClass("sideCatalogBtnDisable")),s.on("activate.bs.scrollspy",function(){var a=$(this).attr("g");$("#sideCatalog-catalog").find(".h2Offset").hide(),$("#sideCatalog-catalog").find(".ceg"+a).show()}))});